var D=Object.create;var s=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var S=(e,r)=>{for(var n in r)s(e,n,{get:r[n],enumerable:!0})},R=(e,r,n,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of v(r))!U.call(e,o)&&o!==n&&s(e,o,{get:()=>r[o],enumerable:!(t=T(r,o))||t.enumerable});return e};var m=(e,r,n)=>(n=e!=null?D(d(e)):{},R(r||!e||!e.__esModule?s(n,"default",{value:e,enumerable:!0}):n,e)),K=e=>R(s({},"__esModule",{value:!0}),e);var W={};S(W,{SERUM_PROGRAMID_TO_VERSION:()=>N,SERUM_PROGRAM_ID_V3:()=>M,SERUM_VERSION_TO_PROGRAM_ID:()=>x,_SERUM_PROGRAM_ID_V3:()=>p,getSerumAssociatedAuthority:()=>Q,getSerumProgramId:()=>Y,getSerumVersion:()=>w});module.exports=K(W);var l=require("@solana/web3.js");var i=require("lodash"),O=m(require("pino")),a=m(require("pino-pretty")),f={},h={},A=(0,a.default)({colorize:!0,levelFirst:!0,translateTime:"SYS:yyyymmdd HH:MM:ss.l"}),L=(0,O.default)({base:null,level:"silent"},A);function b(e){let r=(0,i.get)(f,e);if(!r){let n=(0,i.get)(h,e);r=L.child({name:e},{level:n}),(0,i.set)(f,e,r)}return r.logWithError=(...n)=>{let t=n.map(o=>typeof o=="object"?JSON.stringify(o):o).join(", ");throw new Error(t)},r}var I=require("@solana/web3.js"),_=m(require("bn.js"));var F=new _.default(25),H=new _.default(1e4),E="675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8",z=new I.PublicKey(E),V="5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h",j=new I.PublicKey(V),J={[E]:4,[V]:5};var y={4:3,5:3};var g=b("Raydium_liquidity_serum"),p="9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",M=new l.PublicKey(p),N={[p]:3},x={3:M};function w(e){let r=y[e];return r||g.logWithError("invalid version","version",e),r}function Y(e){let r=x[e];return r||g.logWithError("invalid version","version",e),r}async function Q({programId:e,marketId:r}){let n=[r.toBuffer()],t=0,o;for(;t<100;){try{let c=n.concat(Buffer.from([t]),Buffer.alloc(7));o=await l.PublicKey.createProgramAddress(c,e)}catch(c){if(c instanceof TypeError)throw c;t++;continue}return{publicKey:o,nonce:t}}throw g.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:r}),new Error("unable to find a viable program address nonce")}0&&(module.exports={SERUM_PROGRAMID_TO_VERSION,SERUM_PROGRAM_ID_V3,SERUM_VERSION_TO_PROGRAM_ID,_SERUM_PROGRAM_ID_V3,getSerumAssociatedAuthority,getSerumProgramId,getSerumVersion});
//# sourceMappingURL=serum.js.map