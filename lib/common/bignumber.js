var Ne=Object.create;var W=Object.defineProperty,we=Object.defineProperties,ke=Object.getOwnPropertyDescriptor,We=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertyNames,$=Object.getOwnPropertySymbols,Be=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var J=(t,e,r)=>e in t?W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G=(t,e)=>{for(var r in e||(e={}))Z.call(e,r)&&J(t,r,e[r]);if($)for(var r of $(e))xe.call(e,r)&&J(t,r,e[r]);return t},V=(t,e)=>we(t,We(e));var Se=(t,e)=>{for(var r in e)W(t,r,{get:e[r],enumerable:!0})},Q=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ye(e))!Z.call(t,o)&&o!==r&&W(t,o,{get:()=>e[o],enumerable:!(n=ke(e,o))||n.enumerable});return t};var g=(t,e,r)=>(r=t!=null?Ne(Be(t)):{},Q(e||!t||!t.__esModule?W(r,"default",{value:t,enumerable:!0}):r,t)),De=t=>Q(W({},"__esModule",{value:!0}),t);var Ye={};Se(Ye,{BN_100:()=>H,BN_1000:()=>qe,BN_10000:()=>Ce,BN_FIVE:()=>ve,BN_ONE:()=>A,BN_TEN:()=>N,BN_THREE:()=>Me,BN_TWO:()=>Re,BN_ZERO:()=>ge,Rounding:()=>F,divCeil:()=>Ae,mul:()=>X,parseBigNumberish:()=>m,parseNumberInfo:()=>M,shakeFractionDecimal:()=>de,tenExponential:()=>U,toBN:()=>fe,toFraction:()=>O,toPercent:()=>_e,toTokenPrice:()=>Ke,toTotalPrice:()=>je,toUsdCurrency:()=>I});module.exports=De(Ye);var s=g(require("bn.js"));var ie=g(require("big.js")),D=g(require("bn.js"));var y=require("lodash"),q=g(require("dayjs")),re=g(require("dayjs/plugin/utc"));q.default.extend(re.default);var v=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return(0,q.default)().utc().format("YYYY/MM/DD HH:mm:ss UTC")}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let r=e.map(n=>typeof n=="object"?JSON.stringify(n):n).join(", ");throw new Error(r)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},ee={},Le={};function l(t){let e=(0,y.get)(ee,t);if(!e){let r=(0,y.get)(Le,t);e=new v({name:t,logLevel:r}),(0,y.set)(ee,t,e)}return e}var te=g(require("toformat")),Te=te.default,B=Te;var x=g(require("big.js")),ne=g(require("decimal.js-light"));var P=l("module/fraction"),C=B(x.default),S=B(ne.default),Oe={[0]:S.ROUND_DOWN,[1]:S.ROUND_HALF_UP,[2]:S.ROUND_UP},Pe={[0]:x.default.roundDown,[1]:x.default.roundHalfUp,[2]:x.default.roundUp},i=class{constructor(e,r=A){this.numerator=m(e),this.denominator=m(r)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new i(this.denominator,this.numerator)}add(e){let r=e instanceof i?e:new i(m(e));return this.denominator.eq(r.denominator)?new i(this.numerator.add(r.numerator),this.denominator):new i(this.numerator.mul(r.denominator).add(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}sub(e){let r=e instanceof i?e:new i(m(e));return this.denominator.eq(r.denominator)?new i(this.numerator.sub(r.numerator),this.denominator):new i(this.numerator.mul(r.denominator).sub(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}mul(e){let r=e instanceof i?e:new i(m(e));return new i(this.numerator.mul(r.numerator),this.denominator.mul(r.denominator))}div(e){let r=e instanceof i?e:new i(m(e));return new i(this.numerator.mul(r.denominator),this.denominator.mul(r.numerator))}toSignificant(e,r={groupSeparator:""},n=1){Number.isInteger(e)||P.logWithError(`${e} is not an integer.`),e<=0&&P.logWithError(`${e} is not positive.`),S.set({precision:e+1,rounding:Oe[n]});let o=new S(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),r)}toFixed(e,r={groupSeparator:""},n=1){return Number.isInteger(e)||P.logWithError(`${e} is not an integer.`),e<0&&P.logWithError(`${e} is negative.`),C.DP=e,C.RM=Pe[n]||1,new C(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,r)}isZero(){return this.numerator.isZero()}};var Fe=l("Raydium_amount"),oe=B(ie.default);function Ee(t,e){let r="0",n="0";if(t.includes(".")){let o=t.split(".");o.length===2?([r,n]=o,n=n.padEnd(e,"0")):Fe.logWithError(`invalid number string, num: ${t}`)}else r=t;return[r,n.slice(0,e)||n]}var d=class extends i{constructor(r,n,o=!0,c){let p=new D.default(0),h=N.pow(new D.default(r.decimals));if(o)p=m(n);else{let k=new D.default(0),z=new D.default(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[be,he]=Ee(n.toString(),r.decimals);k=m(be),z=m(he)}k=k.mul(h),p=k.add(z)}super(p,h);this.logger=l(c||"Amount"),this.token=r}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(r){return this.token.equals(r.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(r.raw)}lt(r){return this.token.equals(r.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(r.raw)}add(r){return this.token.equals(r.token)||this.logger.logWithError("add token not equals"),new d(this.token,this.raw.add(r.raw))}subtract(r){return this.token.equals(r.token)||this.logger.logWithError("sub token not equals"),new d(this.token,this.raw.sub(r.raw))}toSignificant(r=this.token.decimals,n,o=0){return super.toSignificant(r,n,o)}toFixed(r=this.token.decimals,n,o=0){return r>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(r,n,o)}toExact(r={groupSeparator:""}){return oe.DP=this.token.decimals,new oe(this.numerator.toString()).div(this.denominator.toString()).toFormat(r)}};var se=require("@solana/web3.js"),ae={symbol:"SOL",name:"Solana",decimals:9},w={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},ar={isQuantumSOL:!0,isLp:!1,official:!0,mint:new se.PublicKey(w.mint),decimals:9,symbol:"SOL",id:"sol",name:"solana",icon:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",extensions:{coingeckoId:"solana"}};var E=require("@solana/web3.js");var ue=require("@solana/spl-token"),a=require("@solana/web3.js");function _({pubkey:t,isSigner:e=!1,isWritable:r=!0}){return{pubkey:t,isWritable:r,isSigner:e}}var cr=[_({pubkey:ue.TOKEN_PROGRAM_ID,isWritable:!1}),_({pubkey:a.SystemProgram.programId,isWritable:!1}),_({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1})];function ce({publicKey:t,transformSol:e}){if(t instanceof a.PublicKey)return e&&t.equals(L)?me:t;if(e&&t===L.toBase58())return me;if(typeof t=="string")try{return new a.PublicKey(t)}catch{throw new Error("invalid public key")}throw new Error("invalid public key")}var pr=new a.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),lr=new a.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),gr=new a.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),dr=new a.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),fr=new a.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),br=new a.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),hr=new a.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Nr=new a.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),wr=new a.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),kr=new a.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Wr=new a.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),me=new a.PublicKey("So11111111111111111111111111111111111111112"),L=a.PublicKey.default;var K=class{constructor({mint:e,decimals:r,symbol:n="UNKNOWN",name:o="UNKNOWN",skipMint:c=!1}){if(e===L.toBase58()||e instanceof E.PublicKey&&L.equals(e)){this.decimals=w.decimals,this.symbol=w.symbol,this.name=w.name,this.mint=new E.PublicKey(w.mint);return}this.decimals=r,this.symbol=n,this.name=o,this.mint=c?E.PublicKey.default:ce({publicKey:e})}equals(e){return this===e?!0:this.mint.equals(e.mint)}},f=K;f.WSOL=new K(w);var Y=class{constructor({decimals:e,symbol:r="UNKNOWN",name:n="UNKNOWN"}){this.decimals=e,this.symbol=r,this.name=n}equals(e){return this===e}},j=Y;j.SOL=new Y(ae);var pe=new i(H),T=class extends i{toSignificant(e=5,r,n){return this.mul(pe).toSignificant(e,r,n)}toFixed(e=2,r,n){return this.mul(pe).toFixed(e,r,n)}};var Ue=l("Raydium_price"),b=class extends i{constructor(r){let{baseToken:n,quoteToken:o,numerator:c,denominator:p}=r;super(c,p);this.baseToken=n,this.quoteToken=o,this.scalar=new i(U(n.decimals),U(o.decimals))}get raw(){return new i(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new b({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(r){this.quoteToken!==r.baseToken&&Ue.logWithError("mul token not equals");let n=super.mul(r);return new b({baseToken:this.baseToken,quoteToken:r.quoteToken,denominator:n.denominator,numerator:n.numerator})}toSignificant(r=this.quoteToken.decimals,n,o){return this.adjusted.toSignificant(r,n,o)}toFixed(r=this.quoteToken.decimals,n,o){return this.adjusted.toFixed(r,n,o)}};var R=l("Raydium_bignumber"),F=(n=>(n[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP",n))(F||{}),ge=new s.default(0),A=new s.default(1),Re=new s.default(2),Me=new s.default(3),ve=new s.default(5),N=new s.default(10),H=new s.default(100),qe=new s.default(1e3),Ce=new s.default(1e4),le=9007199254740991;function m(t){if(t instanceof s.default)return t;if(typeof t=="string"){if(t.match(/^-?[0-9]+$/))return new s.default(t);R.logWithError(`invalid BigNumberish string: ${t}`)}return typeof t=="number"?(t%1&&R.logWithError(`BigNumberish number underflow: ${t}`),(t>=le||t<=-le)&&R.logWithError(`BigNumberish number overflow: ${t}`),new s.default(String(t))):typeof t=="bigint"?new s.default(t.toString()):(R.logWithError(`invalid BigNumberish value: ${t}`),new s.default(0))}function U(t){return N.pow(m(t))}function M(t){var h;if(t===void 0)return{denominator:"1",numerator:"0"};if(t instanceof s.default)return{numerator:t.toString(),denominator:"1"};if(t instanceof i)return{denominator:t.denominator.toString(),numerator:t.numerator.toString()};let e=String(t),[,r="",n="",o=""]=(h=e.replace(",","").match(/(-?)(\d*)\.?(\d*)/))!=null?h:[],c="1"+"0".repeat(o.length),p=r+(n==="0"?"":n)+o||"0";return{denominator:c,numerator:p,sign:r,int:n,dec:o}}function Ae(t,e){let r=t.divmod(e);return r.mod.isZero()?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)}function de(t){var n;let[,e="",r=""]=(n=t.toFixed(2).match(/(-?)(\d*)\.?(\d*)/))!=null?n:[];return`${e}${r}`}function fe(t,e=0){return t instanceof s.default?t:new s.default(de(O(t).mul(N.pow(new s.default(String(e))))))}function O(t){if(t instanceof T)return new i(t.numerator,t.denominator);if(t instanceof b)return t.adjusted;if(t instanceof d)try{return O(t.toExact())}catch{return new i(ge)}if(t instanceof i)return t;let e=String(t),r=M(e);return new i(r.numerator,r.denominator)}function _e(t,e){let{numerator:r,denominator:n}=M(t);return new T(new s.default(r),new s.default(n).mul(e!=null&&e.alreadyDecimaled?new s.default(100):new s.default(1)))}function Ke(t){let{token:e,numberPrice:r,decimalDone:n}=t,o=new f({mint:"",decimals:6,symbol:"usd",name:"usd",skipMint:!0}),{numerator:c,denominator:p}=M(r),h=n?new s.default(c).mul(N.pow(new s.default(e.decimals))):c,k=new s.default(p).mul(N.pow(new s.default(o.decimals)));return new b({baseToken:o,denominator:k.toString(),quoteToken:new f(V(G({},e),{skipMint:!0,mint:""})),numerator:h.toString()})}function X(t,e){if(t==null||e==null)return;let r=O(t),n=O(e);return r.mul(n)}function I(t){let e=new f({mint:"",decimals:6,symbol:"usd",name:"usd",skipMint:!0}),r=fe(X(t,10**e.decimals));return new d(e,r)}function je(t,e){return I(!e||!t?0:X(t,e))}0&&(module.exports={BN_100,BN_1000,BN_10000,BN_FIVE,BN_ONE,BN_TEN,BN_THREE,BN_TWO,BN_ZERO,Rounding,divCeil,mul,parseBigNumberish,parseNumberInfo,shakeFractionDecimal,tenExponential,toBN,toFraction,toPercent,toTokenPrice,toTotalPrice,toUsdCurrency});
//# sourceMappingURL=bignumber.js.map