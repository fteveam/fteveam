var he=Object.create;var y=Object.defineProperty,Ne=Object.defineProperties,we=Object.getOwnPropertyDescriptor,We=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertyNames,z=Object.getOwnPropertySymbols,ke=Object.getPrototypeOf,$=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var X=(r,t,e)=>t in r?y(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,J=(r,t)=>{for(var e in t||(t={}))$.call(t,e)&&X(r,e,t[e]);if(z)for(var e of z(t))Be.call(t,e)&&X(r,e,t[e]);return r},Z=(r,t)=>Ne(r,We(t));var Se=(r,t)=>{for(var e in t)y(r,e,{get:t[e],enumerable:!0})},G=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ye(t))!$.call(r,o)&&o!==e&&y(r,o,{get:()=>t[o],enumerable:!(n=we(t,o))||n.enumerable});return r};var d=(r,t,e)=>(e=r!=null?he(ke(r)):{},G(t||!r||!r.__esModule?y(e,"default",{value:r,enumerable:!0}):e,r)),xe=r=>G(y({},"__esModule",{value:!0}),r);var Ie={};Se(Ie,{BN_100:()=>j,BN_1000:()=>Ce,BN_10000:()=>ve,BN_FIVE:()=>Ae,BN_ONE:()=>A,BN_TEN:()=>N,BN_THREE:()=>qe,BN_TWO:()=>Me,BN_ZERO:()=>le,Rounding:()=>L,divCeil:()=>_e,mul:()=>I,parseBigNumberish:()=>m,parseNumberInfo:()=>M,shakeFractionDecimal:()=>de,tenExponential:()=>U,toBN:()=>ge,toFraction:()=>P,toPercent:()=>Ke,toTokenPrice:()=>je,toTotalPrice:()=>He,toUsdCurrency:()=>H});module.exports=xe(Ie);var a=d(require("bn.js"));var oe=d(require("big.js")),D=d(require("bn.js"));var k=require("lodash"),Q=d(require("pino")),ee=d(require("pino-pretty")),V={},De={},Te=(0,ee.default)({colorize:!0,levelFirst:!0,translateTime:"SYS:yyyymmdd HH:MM:ss.l"}),Oe=(0,Q.default)({base:null,level:"silent"},Te);function l(r){let t=(0,k.get)(V,r);if(!t){let e=(0,k.get)(De,r);t=Oe.child({name:r},{level:e}),(0,k.set)(V,r,t)}return t.logWithError=(...e)=>{let n=e.map(o=>typeof o=="object"?JSON.stringify(o):o).join(", ");throw new Error(n)},t}var te=d(require("toformat")),Pe=te.default,B=Pe;var S=d(require("big.js")),re=d(require("decimal.js-light"));var F=l("module/fraction"),q=B(S.default),x=B(re.default),Fe={[0]:x.ROUND_DOWN,[1]:x.ROUND_HALF_UP,[2]:x.ROUND_UP},Le={[0]:S.default.roundDown,[1]:S.default.roundHalfUp,[2]:S.default.roundUp},i=class{constructor(t,e=A){this.numerator=m(t),this.denominator=m(e)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new i(this.denominator,this.numerator)}add(t){let e=t instanceof i?t:new i(m(t));return this.denominator.eq(e.denominator)?new i(this.numerator.add(e.numerator),this.denominator):new i(this.numerator.mul(e.denominator).add(e.numerator.mul(this.denominator)),this.denominator.mul(e.denominator))}sub(t){let e=t instanceof i?t:new i(m(t));return this.denominator.eq(e.denominator)?new i(this.numerator.sub(e.numerator),this.denominator):new i(this.numerator.mul(e.denominator).sub(e.numerator.mul(this.denominator)),this.denominator.mul(e.denominator))}mul(t){let e=t instanceof i?t:new i(m(t));return new i(this.numerator.mul(e.numerator),this.denominator.mul(e.denominator))}div(t){let e=t instanceof i?t:new i(m(t));return new i(this.numerator.mul(e.denominator),this.denominator.mul(e.numerator))}toSignificant(t,e={groupSeparator:""},n=1){Number.isInteger(t)||F.logWithError(`${t} is not an integer.`),t<=0&&F.logWithError(`${t} is not positive.`),x.set({precision:t+1,rounding:Fe[n]});let o=new x(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return o.toFormat(o.decimalPlaces(),e)}toFixed(t,e={groupSeparator:""},n=1){return Number.isInteger(t)||F.logWithError(`${t} is not an integer.`),t<0&&F.logWithError(`${t} is negative.`),q.DP=t,q.RM=Le[n]||1,new q(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,e)}isZero(){return this.numerator.isZero()}};var Ee=l("Raydium_amount"),ne=B(oe.default);function Ue(r,t){let e="0",n="0";if(r.includes(".")){let o=r.split(".");o.length===2?([e,n]=o,n=n.padEnd(t,"0")):Ee.logWithError(`invalid number string, num: ${r}`)}else e=r;return[e,n.slice(0,t)||n]}var g=class extends i{constructor(e,n,o=!0,c){let p=new D.default(0),h=N.pow(new D.default(e.decimals));if(o)p=m(n);else{let W=new D.default(0),Y=new D.default(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[fe,be]=Ue(n.toString(),e.decimals);W=m(fe),Y=m(be)}W=W.mul(h),p=W.add(Y)}super(p,h);this.logger=l(c||"Amount"),this.token=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return this.token.equals(e.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(e.raw)}lt(e){return this.token.equals(e.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(e.raw)}add(e){return this.token.equals(e.token)||this.logger.logWithError("add token not equals"),new g(this.token,this.raw.add(e.raw))}subtract(e){return this.token.equals(e.token)||this.logger.logWithError("sub token not equals"),new g(this.token,this.raw.sub(e.raw))}toSignificant(e=this.token.decimals,n,o=0){return super.toSignificant(e,n,o)}toFixed(e=this.token.decimals,n,o=0){return e>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(e,n,o)}toExact(e={groupSeparator:""}){return ne.DP=this.token.decimals,new ne(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}};var ie=require("@solana/web3.js"),ae={symbol:"SOL",name:"Solana",decimals:9},w={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},ct={isQuantumSOL:!0,isLp:!1,official:!0,mint:new ie.PublicKey(w.mint),decimals:9,symbol:"SOL",id:"sol",name:"solana",icon:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",extensions:{coingeckoId:"solana"}};var E=require("@solana/web3.js");var me=require("@solana/spl-token"),s=require("@solana/web3.js");function C({pubkey:r,isSigner:t=!1,isWritable:e=!0}){return{pubkey:r,isWritable:e,isSigner:t}}var dt=[C({pubkey:me.TOKEN_PROGRAM_ID,isWritable:!1}),C({pubkey:s.SystemProgram.programId,isWritable:!1}),C({pubkey:s.SYSVAR_RENT_PUBKEY,isWritable:!1})];function ue({publicKey:r,transformSol:t}){if(r instanceof s.PublicKey)return t&&r.equals(T)?se:r;if(t&&r===T.toBase58())return se;if(typeof r=="string")try{return new s.PublicKey(r)}catch{throw new Error("invalid public key")}throw new Error("invalid public key")}var gt=new s.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),ft=new s.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),bt=new s.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),ht=new s.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Nt=new s.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),wt=new s.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Wt=new s.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),yt=new s.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),kt=new s.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Bt=new s.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),St=new s.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),se=new s.PublicKey("So11111111111111111111111111111111111111112"),T=s.PublicKey.default;var v=class{constructor({mint:t,decimals:e,symbol:n="UNKNOWN",name:o="UNKNOWN",skipMint:c=!1}){if(t===T.toBase58()||t instanceof E.PublicKey&&T.equals(t)){this.decimals=w.decimals,this.symbol=w.symbol,this.name=w.name,this.mint=new E.PublicKey(w.mint);return}this.decimals=e,this.symbol=n,this.name=o,this.mint=c?E.PublicKey.default:ue({publicKey:t})}equals(t){return this===t?!0:this.mint.equals(t.mint)}},f=v;f.WSOL=new v(w);var K=class{constructor({decimals:t,symbol:e="UNKNOWN",name:n="UNKNOWN"}){this.decimals=t,this.symbol=e,this.name=n}equals(t){return this===t}},_=K;_.SOL=new K(ae);var ce=new i(j),O=class extends i{toSignificant(t=5,e,n){return this.mul(ce).toSignificant(t,e,n)}toFixed(t=2,e,n){return this.mul(ce).toFixed(t,e,n)}};var Re=l("Raydium_price"),b=class extends i{constructor(e){let{baseToken:n,quoteToken:o,numerator:c,denominator:p}=e;super(c,p);this.baseToken=n,this.quoteToken=o,this.scalar=new i(U(n.decimals),U(o.decimals))}get raw(){return new i(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new b({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(e){this.quoteToken!==e.baseToken&&Re.logWithError("mul token not equals");let n=super.mul(e);return new b({baseToken:this.baseToken,quoteToken:e.quoteToken,denominator:n.denominator,numerator:n.numerator})}toSignificant(e=this.quoteToken.decimals,n,o){return this.adjusted.toSignificant(e,n,o)}toFixed(e=this.quoteToken.decimals,n,o){return this.adjusted.toFixed(e,n,o)}};var R=l("Raydium_bignumber"),L=(n=>(n[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP",n))(L||{}),le=new a.default(0),A=new a.default(1),Me=new a.default(2),qe=new a.default(3),Ae=new a.default(5),N=new a.default(10),j=new a.default(100),Ce=new a.default(1e3),ve=new a.default(1e4),pe=9007199254740991;function m(r){if(r instanceof a.default)return r;if(typeof r=="string"){if(r.match(/^-?[0-9]+$/))return new a.default(r);R.logWithError(`invalid BigNumberish string: ${r}`)}return typeof r=="number"?(r%1&&R.logWithError(`BigNumberish number underflow: ${r}`),(r>=pe||r<=-pe)&&R.logWithError(`BigNumberish number overflow: ${r}`),new a.default(String(r))):typeof r=="bigint"?new a.default(r.toString()):(R.logWithError(`invalid BigNumberish value: ${r}`),new a.default(0))}function U(r){return N.pow(m(r))}function M(r){var h;if(r===void 0)return{denominator:"1",numerator:"0"};if(r instanceof a.default)return{numerator:r.toString(),denominator:"1"};if(r instanceof i)return{denominator:r.denominator.toString(),numerator:r.numerator.toString()};let t=String(r),[,e="",n="",o=""]=(h=t.replace(",","").match(/(-?)(\d*)\.?(\d*)/))!=null?h:[],c="1"+"0".repeat(o.length),p=e+(n==="0"?"":n)+o||"0";return{denominator:c,numerator:p,sign:e,int:n,dec:o}}function _e(r,t){let e=r.divmod(t);return e.mod.isZero()?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)}function de(r){var n;let[,t="",e=""]=(n=r.toFixed(2).match(/(-?)(\d*)\.?(\d*)/))!=null?n:[];return`${t}${e}`}function ge(r,t=0){return r instanceof a.default?r:new a.default(de(P(r).mul(N.pow(new a.default(String(t))))))}function P(r){if(r instanceof O)return new i(r.numerator,r.denominator);if(r instanceof b)return r.adjusted;if(r instanceof g)try{return P(r.toExact())}catch{return new i(le)}if(r instanceof i)return r;let t=String(r),e=M(t);return new i(e.numerator,e.denominator)}function Ke(r,t){let{numerator:e,denominator:n}=M(r);return new O(new a.default(e),new a.default(n).mul(t!=null&&t.alreadyDecimaled?new a.default(100):new a.default(1)))}function je(r){let{token:t,numberPrice:e,decimalDone:n}=r,o=new f({mint:"",decimals:6,symbol:"usd",name:"usd",skipMint:!0}),{numerator:c,denominator:p}=M(e),h=n?new a.default(c).mul(N.pow(new a.default(t.decimals))):c,W=new a.default(p).mul(N.pow(new a.default(o.decimals)));return new b({baseToken:o,denominator:W.toString(),quoteToken:new f(Z(J({},t),{skipMint:!0,mint:""})),numerator:h.toString()})}function I(r,t){if(r==null||t==null)return;let e=P(r),n=P(t);return e.mul(n)}function H(r){let t=new f({mint:"",decimals:6,symbol:"usd",name:"usd",skipMint:!0}),e=ge(I(r,10**t.decimals));return new g(t,e)}function He(r,t){return H(!t||!r?0:I(r,t))}0&&(module.exports={BN_100,BN_1000,BN_10000,BN_FIVE,BN_ONE,BN_TEN,BN_THREE,BN_TWO,BN_ZERO,Rounding,divCeil,mul,parseBigNumberish,parseNumberInfo,shakeFractionDecimal,tenExponential,toBN,toFraction,toPercent,toTokenPrice,toTotalPrice,toUsdCurrency});
//# sourceMappingURL=bignumber.js.map