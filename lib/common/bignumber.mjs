var se=Object.defineProperty,ae=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var j=(t,e,r)=>e in t?se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y=(t,e)=>{for(var r in e||(e={}))ue.call(e,r)&&j(t,r,e[r]);if(K)for(var r of K(e))ce.call(e,r)&&j(t,r,e[r]);return t},H=(t,e)=>ae(t,me(e));import s from"bn.js";import we from"big.js";import L from"bn.js";import{get as I,set as pe}from"lodash";import z from"dayjs";import le from"dayjs/plugin/utc";z.extend(le);var P=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:3,this.name=e.name}set level(e){this.logLevel=e}get time(){return z().utc().format("YYYY/MM/DD HH:mm:ss UTC")}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let r=e.map(n=>typeof n=="object"?JSON.stringify(n):n).join(", ");throw new Error(r)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},X={},ge={};function g(t){let e=I(X,t);if(!e){let r=I(ge,t);e=new P({name:t,logLevel:r}),pe(X,t,e)}return e}import de from"toformat";var fe=de,W=fe;import D from"big.js";import be from"decimal.js-light";var S=g("module/fraction"),F=W(D),y=W(be),he={[0]:y.ROUND_DOWN,[1]:y.ROUND_HALF_UP,[2]:y.ROUND_UP},Ne={[0]:D.roundDown,[1]:D.roundHalfUp,[2]:D.roundUp},o=class{constructor(e,r=$){this.numerator=m(e),this.denominator=m(r)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new o(this.denominator,this.numerator)}add(e){let r=e instanceof o?e:new o(m(e));return this.denominator.eq(r.denominator)?new o(this.numerator.add(r.numerator),this.denominator):new o(this.numerator.mul(r.denominator).add(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}sub(e){let r=e instanceof o?e:new o(m(e));return this.denominator.eq(r.denominator)?new o(this.numerator.sub(r.numerator),this.denominator):new o(this.numerator.mul(r.denominator).sub(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}mul(e){let r=e instanceof o?e:new o(m(e));return new o(this.numerator.mul(r.numerator),this.denominator.mul(r.denominator))}div(e){let r=e instanceof o?e:new o(m(e));return new o(this.numerator.mul(r.denominator),this.denominator.mul(r.numerator))}toSignificant(e,r={groupSeparator:""},n=1){Number.isInteger(e)||S.logWithError(`${e} is not an integer.`),e<=0&&S.logWithError(`${e} is not positive.`),y.set({precision:e+1,rounding:he[n]});let i=new y(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),r)}toFixed(e,r={groupSeparator:""},n=1){return Number.isInteger(e)||S.logWithError(`${e} is not an integer.`),e<0&&S.logWithError(`${e} is negative.`),F.DP=e,F.RM=Ne[n]||1,new F(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,r)}isZero(){return this.numerator.isZero()}};var ke=g("Raydium_amount"),J=W(we);function We(t,e){let r="0",n="0";if(t.includes(".")){let i=t.split(".");i.length===2?([r,n]=i,n=n.padEnd(e,"0")):ke.logWithError(`invalid number string, num: ${t}`)}else r=t;return[r,n.slice(0,e)||n]}var d=class extends o{constructor(r,n,i=!0,p){let l=new L(0),h=k.pow(new L(r.decimals));if(i)l=m(n);else{let w=new L(0),_=new L(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[oe,ie]=We(n.toString(),r.decimals);w=m(oe),_=m(ie)}w=w.mul(h),l=w.add(_)}super(l,h);this.logger=g(p||"Amount"),this.token=r}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(r){return this.token.equals(r.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(r.raw)}lt(r){return this.token.equals(r.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(r.raw)}add(r){return this.token.equals(r.token)||this.logger.logWithError("add token not equals"),new d(this.token,this.raw.add(r.raw))}subtract(r){return this.token.equals(r.token)||this.logger.logWithError("sub token not equals"),new d(this.token,this.raw.sub(r.raw))}toSignificant(r=this.token.decimals,n,i=0){return super.toSignificant(r,n,i)}toFixed(r=this.token.decimals,n,i=0){return r>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(r,n,i)}toExact(r={groupSeparator:""}){return J.DP=this.token.decimals,new J(this.numerator.toString()).div(this.denominator.toString()).toFormat(r)}};import{PublicKey as ye}from"@solana/web3.js";var Z={symbol:"SOL",name:"Solana",decimals:9},N={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},tr={isQuantumSOL:!0,isLp:!1,official:!0,mint:new ye(N.mint),decimals:9,symbol:"SOL",id:"sol",name:"solana",icon:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",extensions:{coingeckoId:"solana"}};import{PublicKey as R}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Be}from"@solana/spl-token";import{PublicKey as a,SystemProgram as xe,SYSVAR_RENT_PUBKEY as Se}from"@solana/web3.js";function U({pubkey:t,isSigner:e=!1,isWritable:r=!0}){return{pubkey:t,isWritable:r,isSigner:e}}var ar=[U({pubkey:Be,isWritable:!1}),U({pubkey:xe.programId,isWritable:!1}),U({pubkey:Se,isWritable:!1})];function V({publicKey:t,transformSol:e}){if(t instanceof a)return e&&t.equals(B)?G:t;if(e&&t===B.toBase58())return G;if(typeof t=="string")try{return new a(t)}catch{throw new Error("invalid public key")}throw new Error("invalid public key")}var mr=new a("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),ur=new a("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),cr=new a("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),pr=new a("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),lr=new a("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),gr=new a("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),dr=new a("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),fr=new a("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),br=new a("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),hr=new a("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Nr=new a("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),G=new a("So11111111111111111111111111111111111111112"),B=a.default;var M=class{constructor({mint:e,decimals:r,symbol:n="UNKNOWN",name:i="UNKNOWN",skipMint:p=!1}){if(e===B.toBase58()||e instanceof R&&B.equals(e)){this.decimals=N.decimals,this.symbol=N.symbol,this.name=N.name,this.mint=new R(N.mint);return}this.decimals=r,this.symbol=n,this.name=i,this.mint=p?R.default:V({publicKey:e})}equals(e){return this===e?!0:this.mint.equals(e.mint)}},f=M;f.WSOL=new M(N);var q=class{constructor({decimals:e,symbol:r="UNKNOWN",name:n="UNKNOWN"}){this.decimals=e,this.symbol=r,this.name=n}equals(e){return this===e}},v=q;v.SOL=new q(Z);var Q=new o(ee),x=class extends o{toSignificant(e=5,r,n){return this.mul(Q).toSignificant(e,r,n)}toFixed(e=2,r,n){return this.mul(Q).toFixed(e,r,n)}};var De=g("Raydium_price"),b=class extends o{constructor(r){let{baseToken:n,quoteToken:i,numerator:p,denominator:l}=r;super(p,l);this.baseToken=n,this.quoteToken=i,this.scalar=new o(C(n.decimals),C(i.decimals))}get raw(){return new o(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new b({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(r){this.quoteToken!==r.baseToken&&De.logWithError("mul token not equals");let n=super.mul(r);return new b({baseToken:this.baseToken,quoteToken:r.quoteToken,denominator:n.denominator,numerator:n.numerator})}toSignificant(r=this.quoteToken.decimals,n,i){return this.adjusted.toSignificant(r,n,i)}toFixed(r=this.quoteToken.decimals,n,i){return this.adjusted.toFixed(r,n,i)}};var T=g("Raydium_bignumber"),E=(n=>(n[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP",n))(E||{}),Le=new s(0),$=new s(1),Jr=new s(2),Zr=new s(3),Gr=new s(5),k=new s(10),ee=new s(100),Vr=new s(1e3),Qr=new s(1e4),re=9007199254740991;function m(t){if(t instanceof s)return t;if(typeof t=="string"){if(t.match(/^-?[0-9]+$/))return new s(t);T.logWithError(`invalid BigNumberish string: ${t}`)}return typeof t=="number"?(t%1&&T.logWithError(`BigNumberish number underflow: ${t}`),(t>=re||t<=-re)&&T.logWithError(`BigNumberish number overflow: ${t}`),new s(String(t))):typeof t=="bigint"?new s(t.toString()):(T.logWithError(`invalid BigNumberish value: ${t}`),new s(0))}function C(t){return k.pow(m(t))}function A(t){var h;if(t===void 0)return{denominator:"1",numerator:"0"};if(t instanceof s)return{numerator:t.toString(),denominator:"1"};if(t instanceof o)return{denominator:t.denominator.toString(),numerator:t.numerator.toString()};let e=String(t),[,r="",n="",i=""]=(h=e.replace(",","").match(/(-?)(\d*)\.?(\d*)/))!=null?h:[],p="1"+"0".repeat(i.length),l=r+(n==="0"?"":n)+i||"0";return{denominator:p,numerator:l,sign:r,int:n,dec:i}}function et(t,e){let r=t.divmod(e);return r.mod.isZero()?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)}function Te(t){var n;let[,e="",r=""]=(n=t.toFixed(2).match(/(-?)(\d*)\.?(\d*)/))!=null?n:[];return`${e}${r}`}function Oe(t,e=0){return t instanceof s?t:new s(Te(O(t).mul(k.pow(new s(String(e))))))}function O(t){if(t instanceof x)return new o(t.numerator,t.denominator);if(t instanceof b)return t.adjusted;if(t instanceof d)try{return O(t.toExact())}catch{return new o(Le)}if(t instanceof o)return t;let e=String(t),r=A(e);return new o(r.numerator,r.denominator)}function rt(t,e){let{numerator:r,denominator:n}=A(t);return new x(new s(r),new s(n).mul(e!=null&&e.alreadyDecimaled?new s(100):new s(1)))}function tt(t){let{token:e,numberPrice:r,decimalDone:n}=t,i=new f({mint:"",decimals:6,symbol:"usd",name:"usd",skipMint:!0}),{numerator:p,denominator:l}=A(r),h=n?new s(p).mul(k.pow(new s(e.decimals))):p,w=new s(l).mul(k.pow(new s(i.decimals)));return new b({baseToken:i,denominator:w.toString(),quoteToken:new f(H(Y({},e),{skipMint:!0,mint:""})),numerator:h.toString()})}function ne(t,e){if(t==null||e==null)return;let r=O(t),n=O(e);return r.mul(n)}function te(t){let e=new f({mint:"",decimals:6,symbol:"usd",name:"usd",skipMint:!0}),r=Oe(ne(t,10**e.decimals));return new d(e,r)}function nt(t,e){return te(!e||!t?0:ne(t,e))}export{ee as BN_100,Vr as BN_1000,Qr as BN_10000,Gr as BN_FIVE,$ as BN_ONE,k as BN_TEN,Zr as BN_THREE,Jr as BN_TWO,Le as BN_ZERO,E as Rounding,et as divCeil,ne as mul,m as parseBigNumberish,A as parseNumberInfo,Te as shakeFractionDecimal,C as tenExponential,Oe as toBN,O as toFraction,rt as toPercent,tt as toTokenPrice,nt as toTotalPrice,te as toUsdCurrency};
//# sourceMappingURL=bignumber.mjs.map