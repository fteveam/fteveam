var se=Object.create;var S=Object.defineProperty;var ae=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames;var ue=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var pe=(t,e)=>{for(var r in e)S(t,r,{get:e[r],enumerable:!0})},j=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of me(e))!ce.call(t,i)&&i!==r&&S(t,i,{get:()=>e[i],enumerable:!(n=ae(e,i))||n.enumerable});return t};var l=(t,e,r)=>(r=t!=null?se(ue(t)):{},j(e||!t||!t.__esModule?S(r,"default",{value:t,enumerable:!0}):r,t)),le=t=>j(S({},"__esModule",{value:!0}),t);var We={};pe(We,{Currency:()=>P,Fraction:()=>o,Percent:()=>L,Price:()=>d,Token:()=>c,TokenAmount:()=>g,_100_PERCENT:()=>A,currencyEquals:()=>we,splitNumber:()=>V});module.exports=le(We);var G=l(require("big.js")),y=l(require("bn.js"));var a=l(require("bn.js"));var N=require("lodash"),E=l(require("dayjs")),H=l(require("dayjs/plugin/utc"));E.default.extend(H.default);var F=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return(0,E.default)().utc().format("YYYY/MM/DD HH:mm:ss UTC")}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let r=e.map(n=>typeof n=="object"?JSON.stringify(n):n).join(", ");throw new Error(r)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},Y={},ge={};function p(t){let e=(0,N.get)(Y,t);if(!e){let r=(0,N.get)(ge,t);e=new F({name:t,logLevel:r}),(0,N.set)(Y,t,e)}return e}var D=p("Raydium_bignumber");var Te=new a.default(0),X=new a.default(1),Oe=new a.default(2),Pe=new a.default(3),Fe=new a.default(5),U=new a.default(10),z=new a.default(100),Ee=new a.default(1e3),Ue=new a.default(1e4),I=9007199254740991;function m(t){if(t instanceof a.default)return t;if(typeof t=="string"){if(t.match(/^-?[0-9]+$/))return new a.default(t);D.logWithError(`invalid BigNumberish string: ${t}`)}return typeof t=="number"?(t%1&&D.logWithError(`BigNumberish number underflow: ${t}`),(t>=I||t<=-I)&&D.logWithError(`BigNumberish number overflow: ${t}`),new a.default(String(t))):typeof t=="bigint"?new a.default(t.toString()):(D.logWithError(`invalid BigNumberish value: ${t}`),new a.default(0))}function R(t){return U.pow(m(t))}var $=l(require("toformat")),de=$.default,w=de;var k=l(require("big.js")),J=l(require("decimal.js-light"));var T=p("module/fraction"),M=w(k.default),W=w(J.default),be={[0]:W.ROUND_DOWN,[1]:W.ROUND_HALF_UP,[2]:W.ROUND_UP},he={[0]:k.default.roundDown,[1]:k.default.roundHalfUp,[2]:k.default.roundUp},o=class{constructor(e,r=X){this.numerator=m(e),this.denominator=m(r)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new o(this.denominator,this.numerator)}add(e){let r=e instanceof o?e:new o(m(e));return this.denominator.eq(r.denominator)?new o(this.numerator.add(r.numerator),this.denominator):new o(this.numerator.mul(r.denominator).add(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}sub(e){let r=e instanceof o?e:new o(m(e));return this.denominator.eq(r.denominator)?new o(this.numerator.sub(r.numerator),this.denominator):new o(this.numerator.mul(r.denominator).sub(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}mul(e){let r=e instanceof o?e:new o(m(e));return new o(this.numerator.mul(r.numerator),this.denominator.mul(r.denominator))}div(e){let r=e instanceof o?e:new o(m(e));return new o(this.numerator.mul(r.denominator),this.denominator.mul(r.numerator))}toSignificant(e,r={groupSeparator:""},n=1){Number.isInteger(e)||T.logWithError(`${e} is not an integer.`),e<=0&&T.logWithError(`${e} is not positive.`),W.set({precision:e+1,rounding:be[n]});let i=new W(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),r)}toFixed(e,r={groupSeparator:""},n=1){return Number.isInteger(e)||T.logWithError(`${e} is not an integer.`),e<0&&T.logWithError(`${e} is negative.`),M.DP=e,M.RM=he[n]||1,new M(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,r)}isZero(){return this.numerator.isZero()}};var Ne=p("Raydium_amount"),Z=w(G.default);function V(t,e){let r="0",n="0";if(t.includes(".")){let i=t.split(".");i.length===2?([r,n]=i,n=n.padEnd(e,"0")):Ne.logWithError(`invalid number string, num: ${t}`)}else r=t;return[r,n.slice(0,e)||n]}var g=class extends o{constructor(r,n,i=!0,b){let h=new y.default(0),_=U.pow(new y.default(r.decimals));if(i)h=m(n);else{let x=new y.default(0),K=new y.default(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[oe,ie]=V(n.toString(),r.decimals);x=m(oe),K=m(ie)}x=x.mul(_),h=x.add(K)}super(h,_);this.logger=p(b||"Amount"),this.token=r}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(r){return this.token.equals(r.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(r.raw)}lt(r){return this.token.equals(r.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(r.raw)}add(r){return this.token.equals(r.token)||this.logger.logWithError("add token not equals"),new g(this.token,this.raw.add(r.raw))}subtract(r){return this.token.equals(r.token)||this.logger.logWithError("sub token not equals"),new g(this.token,this.raw.sub(r.raw))}toSignificant(r=this.token.decimals,n,i=0){return super.toSignificant(r,n,i)}toFixed(r=this.token.decimals,n,i=0){return r>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(r,n,i)}toExact(r={groupSeparator:""}){return Z.DP=this.token.decimals,new Z(this.numerator.toString()).div(this.denominator.toString()).toFormat(r)}};var Q=require("@solana/web3.js"),ee={symbol:"SOL",name:"Solana",decimals:9},f={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},Ze={isQuantumSOL:!0,isLp:!1,official:!0,mint:new Q.PublicKey(f.mint),decimals:9,symbol:"SOL",id:"sol",name:"solana",icon:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",extensions:{coingeckoId:"solana"}};var O=require("@solana/web3.js");var te=require("@solana/spl-token"),s=require("@solana/web3.js");function v({pubkey:t,isSigner:e=!1,isWritable:r=!0}){return{pubkey:t,isWritable:r,isSigner:e}}var Qe=[v({pubkey:te.TOKEN_PROGRAM_ID,isWritable:!1}),v({pubkey:s.SystemProgram.programId,isWritable:!1}),v({pubkey:s.SYSVAR_RENT_PUBKEY,isWritable:!1})];function ne({publicKey:t,transformSol:e}){if(t instanceof s.PublicKey)return e&&t.equals(B)?re:t;if(e&&t===B.toBase58())return re;if(typeof t=="string")try{return new s.PublicKey(t)}catch{throw new Error("invalid public key")}throw new Error("invalid public key")}var er=new s.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),rr=new s.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),tr=new s.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),nr=new s.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),or=new s.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),ir=new s.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),sr=new s.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),ar=new s.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),mr=new s.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),ur=new s.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),cr=new s.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),re=new s.PublicKey("So11111111111111111111111111111111111111112"),B=s.PublicKey.default;var q=class{constructor({mint:e,decimals:r,symbol:n="UNKNOWN",name:i="UNKNOWN",skipMint:b=!1}){if(e===B.toBase58()||e instanceof O.PublicKey&&B.equals(e)){this.decimals=f.decimals,this.symbol=f.symbol,this.name=f.name,this.mint=new O.PublicKey(f.mint);return}this.decimals=r,this.symbol=n,this.name=i,this.mint=b?O.PublicKey.default:ne({publicKey:e})}equals(e){return this===e?!0:this.mint.equals(e.mint)}},c=q;c.WSOL=new q(f);var C=class{constructor({decimals:e,symbol:r="UNKNOWN",name:n="UNKNOWN"}){this.decimals=e,this.symbol=r,this.name=n}equals(e){return this===e}},P=C;P.SOL=new C(ee);function we(t,e){return t instanceof c&&e instanceof c?t.equals(e):t instanceof c||e instanceof c?!1:t===e}var A=new o(z),L=class extends o{toSignificant(e=5,r,n){return this.mul(A).toSignificant(e,r,n)}toFixed(e=2,r,n){return this.mul(A).toFixed(e,r,n)}};var ke=p("Raydium_price"),d=class extends o{constructor(r){let{baseToken:n,quoteToken:i,numerator:b,denominator:h}=r;super(b,h);this.baseToken=n,this.quoteToken=i,this.scalar=new o(R(n.decimals),R(i.decimals))}get raw(){return new o(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new d({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(r){this.quoteToken!==r.baseToken&&ke.logWithError("mul token not equals");let n=super.mul(r);return new d({baseToken:this.baseToken,quoteToken:r.quoteToken,denominator:n.denominator,numerator:n.numerator})}toSignificant(r=this.quoteToken.decimals,n,i){return this.adjusted.toSignificant(r,n,i)}toFixed(r=this.quoteToken.decimals,n,i){return this.adjusted.toFixed(r,n,i)}};0&&(module.exports={Currency,Fraction,Percent,Price,Token,TokenAmount,_100_PERCENT,currencyEquals,splitNumber});
//# sourceMappingURL=index.js.map