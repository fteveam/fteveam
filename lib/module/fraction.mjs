import w from"big.js";import J from"decimal.js-light";import i from"bn.js";import j from"big.js";import ae from"bn.js";import{get as L,set as q}from"lodash";import O from"dayjs";import C from"dayjs/plugin/utc";O.extend(C);var k=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:3,this.name=e.name}set level(e){this.logLevel=e}get time(){return O().utc().format("YYYY/MM/DD HH:mm:ss UTC")}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let r=e.map(s=>typeof s=="object"?JSON.stringify(s):s).join(", ");throw new Error(r)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},T={},A={};function u(t){let e=L(T,t);if(!e){let r=L(A,t);e=new k({name:t,logLevel:r}),q(T,t,e)}return e}import _ from"toformat";var K=_,l=K;var fe=u("Raydium_amount"),be=l(j);import{PublicKey as I}from"@solana/web3.js";var P={symbol:"SOL",name:"Solana",decimals:9},p={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},we={isQuantumSOL:!0,isLp:!1,official:!0,mint:new I(p.mint),decimals:9,symbol:"SOL",id:"sol",name:"solana",icon:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",extensions:{coingeckoId:"solana"}};import{PublicKey as y}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as X}from"@solana/spl-token";import{PublicKey as o,SystemProgram as z,SYSVAR_RENT_PUBKEY as $}from"@solana/web3.js";function W({pubkey:t,isSigner:e=!1,isWritable:r=!0}){return{pubkey:t,isWritable:r,isSigner:e}}var xe=[W({pubkey:X,isWritable:!1}),W({pubkey:z.programId,isWritable:!1}),W({pubkey:$,isWritable:!1})];function E({publicKey:t,transformSol:e}){if(t instanceof o)return e&&t.equals(g)?F:t;if(e&&t===g.toBase58())return F;if(typeof t=="string")try{return new o(t)}catch{throw new Error("invalid public key")}throw new Error("invalid public key")}var Se=new o("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),De=new o("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Le=new o("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Te=new o("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Oe=new o("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Pe=new o("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Fe=new o("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Ee=new o("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Ue=new o("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Re=new o("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Me=new o("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),F=new o("So11111111111111111111111111111111111111112"),g=o.default;var B=class{constructor({mint:e,decimals:r,symbol:s="UNKNOWN",name:b="UNKNOWN",skipMint:v=!1}){if(e===g.toBase58()||e instanceof y&&g.equals(e)){this.decimals=p.decimals,this.symbol=p.symbol,this.name=p.name,this.mint=new y(p.mint);return}this.decimals=r,this.symbol=s,this.name=b,this.mint=v?y.default:E({publicKey:e})}equals(e){return this===e?!0:this.mint.equals(e.mint)}},d=B;d.WSOL=new B(p);var S=class{constructor({decimals:e,symbol:r="UNKNOWN",name:s="UNKNOWN"}){this.decimals=e,this.symbol=r,this.name=s}equals(e){return this===e}},x=S;x.SOL=new S(P);var $e=new n(U);var rr=u("Raydium_price");var h=u("Raydium_bignumber");var kr=new i(0),M=new i(1),Wr=new i(2),yr=new i(3),Br=new i(5),H=new i(10),U=new i(100),xr=new i(1e3),Sr=new i(1e4),R=9007199254740991;function c(t){if(t instanceof i)return t;if(typeof t=="string"){if(t.match(/^-?[0-9]+$/))return new i(t);h.logWithError(`invalid BigNumberish string: ${t}`)}return typeof t=="number"?(t%1&&h.logWithError(`BigNumberish number underflow: ${t}`),(t>=R||t<=-R)&&h.logWithError(`BigNumberish number overflow: ${t}`),new i(String(t))):typeof t=="bigint"?new i(t.toString()):(h.logWithError(`invalid BigNumberish value: ${t}`),new i(0))}var N=u("module/fraction"),D=l(w),f=l(J),Z={[0]:f.ROUND_DOWN,[1]:f.ROUND_HALF_UP,[2]:f.ROUND_UP},G={[0]:w.roundDown,[1]:w.roundHalfUp,[2]:w.roundUp},n=class{constructor(e,r=M){this.numerator=c(e),this.denominator=c(r)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new n(this.denominator,this.numerator)}add(e){let r=e instanceof n?e:new n(c(e));return this.denominator.eq(r.denominator)?new n(this.numerator.add(r.numerator),this.denominator):new n(this.numerator.mul(r.denominator).add(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}sub(e){let r=e instanceof n?e:new n(c(e));return this.denominator.eq(r.denominator)?new n(this.numerator.sub(r.numerator),this.denominator):new n(this.numerator.mul(r.denominator).sub(r.numerator.mul(this.denominator)),this.denominator.mul(r.denominator))}mul(e){let r=e instanceof n?e:new n(c(e));return new n(this.numerator.mul(r.numerator),this.denominator.mul(r.denominator))}div(e){let r=e instanceof n?e:new n(c(e));return new n(this.numerator.mul(r.denominator),this.denominator.mul(r.numerator))}toSignificant(e,r={groupSeparator:""},s=1){Number.isInteger(e)||N.logWithError(`${e} is not an integer.`),e<=0&&N.logWithError(`${e} is not positive.`),f.set({precision:e+1,rounding:Z[s]});let b=new f(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return b.toFormat(b.decimalPlaces(),r)}toFixed(e,r={groupSeparator:""},s=1){return Number.isInteger(e)||N.logWithError(`${e} is not an integer.`),e<0&&N.logWithError(`${e} is negative.`),D.DP=e,D.RM=G[s]||1,new D(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,r)}isZero(){return this.numerator.isZero()}};export{n as Fraction};
//# sourceMappingURL=fraction.mjs.map