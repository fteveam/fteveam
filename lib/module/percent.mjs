import i from"bn.js";import J from"big.js";import We from"bn.js";import{get as T,set as A}from"lodash";import C from"pino";import v from"pino-pretty";var O={},_={},K=v({colorize:!0,levelFirst:!0,translateTime:"SYS:yyyymmdd HH:MM:ss.l"}),j=C({base:null,level:"silent"},K);function c(r){let e=T(O,r);if(!e){let t=T(_,r);e=j.child({name:r},{level:t}),A(O,r,e)}return e.logWithError=(...t)=>{let a=t.map(u=>typeof u=="object"?JSON.stringify(u):u).join(", ");throw new Error(a)},e}import H from"toformat";var I=H,d=I;import N from"big.js";import Y from"decimal.js-light";var h=c("module/fraction"),W=d(N),g=d(Y),z={[0]:g.ROUND_DOWN,[1]:g.ROUND_HALF_UP,[2]:g.ROUND_UP},X={[0]:N.roundDown,[1]:N.roundHalfUp,[2]:N.roundUp},n=class{constructor(e,t=P){this.numerator=p(e),this.denominator=p(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new n(this.denominator,this.numerator)}add(e){let t=e instanceof n?e:new n(p(e));return this.denominator.eq(t.denominator)?new n(this.numerator.add(t.numerator),this.denominator):new n(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof n?e:new n(p(e));return this.denominator.eq(t.denominator)?new n(this.numerator.sub(t.numerator),this.denominator):new n(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof n?e:new n(p(e));return new n(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof n?e:new n(p(e));return new n(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},a=1){Number.isInteger(e)||h.logWithError(`${e} is not an integer.`),e<=0&&h.logWithError(`${e} is not positive.`),g.set({precision:e+1,rounding:z[a]});let u=new g(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return u.toFormat(u.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},a=1){return Number.isInteger(e)||h.logWithError(`${e} is not an integer.`),e<0&&h.logWithError(`${e} is negative.`),W.DP=e,W.RM=X[a]||1,new W(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var Oe=c("Raydium_amount"),Pe=d(J);import{PublicKey as G}from"@solana/web3.js";var F={symbol:"SOL",name:"Solana",decimals:9},l={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},Ee={isQuantumSOL:!0,isLp:!1,official:!0,mint:new G(l.mint),decimals:9,symbol:"SOL",id:"sol",name:"solana",icon:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",extensions:{coingeckoId:"solana"}};import{PublicKey as k}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as V}from"@solana/spl-token";import{PublicKey as o,SystemProgram as Q,SYSVAR_RENT_PUBKEY as ee}from"@solana/web3.js";function y({pubkey:r,isSigner:e=!1,isWritable:t=!0}){return{pubkey:r,isWritable:t,isSigner:e}}var Ae=[y({pubkey:V,isWritable:!1}),y({pubkey:Q.programId,isWritable:!1}),y({pubkey:ee,isWritable:!1})];function E({publicKey:r,transformSol:e}){if(r instanceof o)return e&&r.equals(f)?L:r;if(e&&r===f.toBase58())return L;if(typeof r=="string")try{return new o(r)}catch{throw new Error("invalid public key")}throw new Error("invalid public key")}var Ce=new o("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),ve=new o("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),_e=new o("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Ke=new o("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),je=new o("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),He=new o("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Ie=new o("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Ye=new o("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),ze=new o("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Xe=new o("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),$e=new o("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),L=new o("So11111111111111111111111111111111111111112"),f=o.default;var B=class{constructor({mint:e,decimals:t,symbol:a="UNKNOWN",name:u="UNKNOWN",skipMint:q=!1}){if(e===f.toBase58()||e instanceof k&&f.equals(e)){this.decimals=l.decimals,this.symbol=l.symbol,this.name=l.name,this.mint=new k(l.mint);return}this.decimals=t,this.symbol=a,this.name=u,this.mint=q?k.default:E({publicKey:e})}equals(e){return this===e?!0:this.mint.equals(e.mint)}},b=B;b.WSOL=new B(l);var x=class{constructor({decimals:e,symbol:t="UNKNOWN",name:a="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=a}equals(e){return this===e}},S=x;S.SOL=new x(F);var ut=c("Raydium_price");var w=c("Raydium_bignumber");var Tt=new i(0),P=new i(1),Ot=new i(2),Pt=new i(3),Ft=new i(5),Z=new i(10),R=new i(100),Lt=new i(1e3),Et=new i(1e4),U=9007199254740991;function p(r){if(r instanceof i)return r;if(typeof r=="string"){if(r.match(/^-?[0-9]+$/))return new i(r);w.logWithError(`invalid BigNumberish string: ${r}`)}return typeof r=="number"?(r%1&&w.logWithError(`BigNumberish number underflow: ${r}`),(r>=U||r<=-U)&&w.logWithError(`BigNumberish number overflow: ${r}`),new i(String(r))):typeof r=="bigint"?new i(r.toString()):(w.logWithError(`invalid BigNumberish value: ${r}`),new i(0))}var M=new n(R),D=class extends n{toSignificant(e=5,t,a){return this.mul(M).toSignificant(e,t,a)}toFixed(e=2,t,a){return this.mul(M).toFixed(e,t,a)}};export{D as Percent,M as _100_PERCENT};
//# sourceMappingURL=percent.mjs.map